name: Shared matrix

on:
  workflow_dispatch:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  define-matrix:
    runs-on: ${{ steps.osVersions.outputs.osVersions }}

    outputs:
      nodeVersions: ${{ steps.nodeVersions.outputs.nodeVersions }}
      osVersions: ${{ steps.osVersions.outputs.osVersions }}

    steps:
      - name: Define Node Versions
        id: nodeVersions
        run: |
          echo 'nodeVersions=["22.x", "24.x"]' >> "$GITHUB_OUTPUT"
      - name: Define OS Versions
        id: osVersions
        run: |
          echo 'osVersions=["ubuntu-latest", "windows"]' >> "$GITHUB_OUTPUT"
